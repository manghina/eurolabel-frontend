<div class="relative lg:fixed preview" *ngIf="!preview">
    <div class="outside-border">
        <div class="silencer"></div>
        <div class="volume-up"></div>
        <div class="volume-down"></div>
        <div class="button-on"></div>
        <div class="inside-border">

            <!-- Camera -->

            <div class="camera">
                <div class="camera-dot">
                    <div class="camera-dot-2"></div>
                    <div class="camera-dot-3"></div>
                </div>
                <div class="camera-speaker">
                </div>
            </div>

            <!-- Lock -->


            <div class="lock">
                <!--START PREVIEW-->
                <div class="grid p-2">
                    <div class="col-12" [ngStyle]="{'background-color':getCurrentColor() }">
                        <div *ngIf="form.get('product_name').value">
                            <span class="head_title" style="color:white">{{form.get('product_name').value}}</span>
                        </div>
                    </div>
                    <!--IMMAGINE PRODOTTO -->
                    <div class="col-12 mt-2" style="margin-bottom:-15px;z-index: 1;" *ngIf="sub_image">
                        <div class="grid">
                            <div class="col"></div>
                            <div class="col-6 text-center shadow-1" style="background-color: white">
                                <img src="https://{{sub_image}}" class="image-fluid">
                            </div>
                            <div class="col"></div>
                        </div>
                    </div>
                    <!--BANDA COLORATA-->

                    <div class="col-12 pt-3">
                        <div class="grid">
                            <div class="col-12  align-items-center justify-content-between text-center text-white">
                                <p class="mb-0 info mt-2"
                                    *ngIf="brand.value  && checkIfValueExists('isOwnerInfoVisible')"
                                    style="color:black">{{brand.value?.name}}
                                </p>
                                <!-- <p class="mb-0 info mt-2" style="color:black">{{companyName}}</p> -->
                                <b [ngStyle]="{'color':getCurrentColor()}">{{form.get('product_name').value}}</b><br>
                                <b *ngIf="form.get('vintage_year').value"
                                    style="color:black">{{form.get('vintage_year').value | date :
                                    'Y'}}</b>
                            </div>

                            <div class="col-11 mx-auto text-center text-white"
                                [ngStyle]="{'background-color':getCurrentColor() }">
                                <span *ngIf="form.get('type').value" class="info">
                                    {{getType(form.get('type').value) | translate}}
                                </span>
                                <span *ngIf="form.get('net_content').value" class="info">
                                    • {{form.get('net_content').value}} ml
                                </span>
                                <span *ngIf="form.get('alcohol_content_percentage').value" class="info">
                                    • {{form.get('alcohol_content_percentage').value}} % vol.
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <!--INGREDIENTI-->
                <div class="grid p-2 mt-1">
                    <div class="col-12 text-center py-0 my-0">
                        <div class="grid">
                            <div class="col-12">
                                <p class="titolo mb-2" [ngStyle]="{'color':getCurrentColor()}">{{
                                    'pages.ingredients.title' |
                                    translate }}</p>
                                <div *ngFor="let i of groupBy(ingredientsValue, 'group') | keyvalue" >
                                    <b class="info mb-0"> {{i.key | translate}}</b>
                                    <p class="info mb-0" *ngFor="let ingredient of i.value">
                                        {{ingredient.label | translate}} <span
                                            *ngIf="ingredient.allergenies">(Allergene: {{ingredient.allergenies |
                                            translate}})</span>
                                    </p>
                                </div>
                                <p class="info mt-2" *ngIf="form.get('packages').value">
                                    <i>{{getPackages(form.get('packages').value) | translate}}</i>
                                </p>
                            </div>

                        </div>
                    </div>
                </div>
                <p-divider></p-divider>

                <!--TABELLA NUTRIZIONALE-->
                <div class="grid p-2 m-0 py-0">
                    <div class="col-12">
                        <div class="grid text-center">
                            <div class="col-12 mt-0 py-0 mb-2">
                                <p class="titolo mb-2" [ngStyle]="{'color':getCurrentColor() }">{{
                                    'pages.nutritions.title' | translate }}</p>
                            </div>
                        </div>
                        <div style="background-color: rgb(0, 0, 0 , 0.05);" class="col-12 px-1 py-1">
                            <table style="width: 100%;" border="1" class="info">
                                <tbody>
                                    <tr style="border-bottom:1px;border-style: dotted;"
                                        [ngStyle]="{'border-color:':(primary_color!=null) ? primary_color : 'black' }">
                                        <td class="pl-1">Valori medi</td>
                                        <td class="text-right pr-1">per 100ml</td>
                                        <td *ngIf="show_portion" class="text-right pr-1">per porzione <span
                                                style="font-size:0.6rem">(500ml)</span></td>
                                    </tr>
                                    <tr>
                                        <td class="pl-1"><b>{{ 'pages.nutritions.energy_kj' | translate }}</b></td>
                                        <td class="text-right pr-1">{{form.get('energy_kj').value}} Kj</td>
                                        <td *ngIf="show_portion" class="text-right pr-1">25</td>
                                    </tr>
                                    <tr>
                                        <td class="pl-3">{{ 'pages.nutritions.energy_kcal' | translate }}</td>
                                        <td class="text-right pr-1">{{form.get('energy_kcal').value}} Kcal</td>
                                        <td *ngIf="show_portion" class="text-right pr-1">25</td>
                                    </tr>
                                    <tr>
                                        <td class="pl-1"><b>{{ 'pages.nutritions.fat' | translate }}</b></td>
                                        <td class="text-right pr-1">{{form.get('fat').value}} g</td>
                                        <td *ngIf="show_portion" class="text-right pr-1">25</td>
                                    </tr>
                                    <tr>
                                        <td class="pl-3">{{ 'pages.nutritions.fat_sat' | translate }}</td>
                                        <td class="text-right pr-1">{{form.get('fat_sat').value}} g</td>
                                        <td *ngIf="show_portion" class="text-right pr-1">25</td>
                                    </tr>
                                    <tr>
                                        <td class="pl-1"><b>{{ 'pages.nutritions.carb' | translate }}</b></td>
                                        <td class="text-right pr-1">{{form.get('carb').value}} g</td>
                                        <td *ngIf="show_portion" class="te xt-right pr-1">25</td>
                                    </tr>
                                    <tr>
                                        <td class="pl-3">{{ 'pages.nutritions.carb_sugar' | translate }}</td>
                                        <td class="text-right pr-1">{{form.get('carb_sugar').value}} g</td>
                                        <td *ngIf="show_portion" class="text-right pr-1">25</td>
                                    </tr>
                                    <tr>
                                        <td class="pl-1"><b>{{ 'pages.nutritions.protein' | translate }}</b></td>
                                        <td class="text-right pr-1">{{form.get('protein').value}} g</td>
                                        <td *ngIf="show_portion" class="text-right pr-1">25</td>
                                    </tr>
                                    <tr>
                                        <td class="pl-1"><b>{{ 'pages.nutritions.salt' | translate }}</b></td>
                                        <td class="text-right pr-1">{{form.get('salt').value}} g</td>
                                        <td *ngIf="show_portion" class="text-right pr-1">25</td>
                                    </tr>


                                </tbody>
                            </table>
                        </div>
                        <!-- DivTable.com -->
                        <!-- <div class="mt-3 mx-1 text-sm">Contiene quantità trascurabili di Sale, Acidi grassi saturi,
                                Proteine, Grassi.
                            </div> -->
                    </div>
                </div>
                <p-divider></p-divider>
                <!--RICICLO-->
                <div class="grid p-2">
                    <div class="col-12 pt-0">
                        <p class="titolo mb-5 text-center" [ngStyle]="{'color':getCurrentColor() }">{{
                            'pages.recycling.title_preview' |
                            translate }}</p>
                        <div class="grid p-3 border-1" *ngFor="let rule of form.get('rules').value; let i = index">
                            <div class="col-3 relative p-0" style="background-image: url('assets/riciclo.svg'); background-repeat: no-repeat;
  background-size: auto;">
                                <div class="grid">
                                    <div class="col-12 text-center font-bold mt-4">{{getMaterialNumberPart(getMaterialLabel(i) |
                                    translate)}}</div>
                                    <div class="col-12 text-center font-bold mt-0 p-0">{{getMaterialLabelPart(getMaterialLabel(i) | translate)}}</div>
                                    </div>
                            </div>
                            <div class="col-9 pt-0 pb-0" style="font-size:0.8rem"> <b>{{getContainer(rule.recycling_rule_containers_id).label | translate}}</b><br>
                                {{getMaterialTitle(getMaterial(rule.recycling_rule_materials_id).label |
                                                translate)}}<br>
                                                  <i style="font-size:0.65rem">{{getMaterial(rule.recycling_rule_materials_id).group | translate}}</i></div>
                        </div>
                    </div>
                
                </div>
                <p-divider
                    *ngIf="form.get('drive').value || form.get('drive').value || form.get('pregnant').value"></p-divider>
                <!--CONSUMO RESPONSABILE-->
                <div class="grid p-2"
                    *ngIf="form.get('drive').value || form.get('drive').value || form.get('pregnant').value">

                    <div class="col-12 text-center py-0 my-0">
                        <div class="grid">
                            <div class="col-12 mb-0">
                                <p class="titolo mb-2" [ngStyle]="{'color':getCurrentColor() }">{{
                                    'pages.recycling.sub.title' |
                                    translate }}</p>
                            </div>
                            <div class="col-12 mt-0 pt-0">
                                <div class="flex justify-content-center flex-wrap">
                                    <div *ngIf="form.get('drive').value"
                                        class="flex align-items-center justify-content-center w-4rem h-4rem  m-2"><img
                                            src="https://firebasestorage.googleapis.com/v0/b/label-scan-1c165.appspot.com/o/public%2FresponsibleConsumption%2Fdriving.svg?alt=media&amp;token=9190dac0-4b69-4535-bb4e-c893665a8467"
                                            alt="Don't Drink and Drive"></div>

                                    <div *ngIf="form.get('pregnant').value"
                                        class="flex align-items-center justify-content-center w-4rem h-4rem  m-2"><img
                                            src="https://firebasestorage.googleapis.com/v0/b/label-scan-1c165.appspot.com/o/public%2FresponsibleConsumption%2Fpregnant.svg?alt=media&amp;token=bae940be-54fd-4437-93f4-4ed6e8fc0644"
                                            alt="Pregnancy"></div>
                                    <div *ngIf="form.get('age').value"
                                        class="flex align-items-center justify-content-center w-4rem h-4rem  m-2"><img
                                            src="https://firebasestorage.googleapis.com/v0/b/label-scan-1c165.appspot.com/o/public%2FresponsibleConsumption%2Funderage.svg?alt=media&amp;token=ff71068d-93fc-42ec-9fd5-0c0a5cb799d0"
                                            alt="Underaged Consumption"></div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <p-divider
                    *ngIf=" form.get('sustainibility_bio').value || form.get('sustainibility_message').value"></p-divider>
                <!--INFO SOSTENIBILTà-->
                <div class="grid p-2"
                    *ngIf=" form.get('sustainibility_bio').value || form.get('sustainibility_message').value">

                    <div class="col-12 text-center py-0 my-0">
                        <div class="grid">
                            <div class="col-12 mb-0">
                                <p class="titolo mb-2" [ngStyle]="{'color':getCurrentColor() }">{{
                                    'pages.sustainability.title' |
                                    translate }}</p>
                            </div>
                            <div class="col-12 mt-0 pt-0">
                                <div class="grid">
                                    <div class="col-12 text-center info">
                                        {{form.get('sustainibility_bio').value}}
                                    </div>
                                    <div class="col-12 text-center info" *ngIf="form.get('type').value">
                                        {{form.get('sustainibility_message').value}}
                                    </div>


                                </div>
                            </div>

                            <div class="col-12 mt-0 pt-0 flex align-items-center" *ngIf="sustainibility_attachments">
                                <div class="grid flex">

                                    <div class="col-4 mx-auto  text-center info flex justify-content-center align-items-center align-content-center"
                                        *ngFor="let item of preview_image">
                                        <img src="https://app.eulabel.it/backend/storage/app/{{item.url}}"
                                            class="image-fluid">
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <p-divider></p-divider>
                <!--INFO PRODOTTO-->
                <div class="grid p-2">
                    <div class="col-12 text-center py-0 my-0">
                        <div class="grid">
                            <div class="col-12 mb-0">
                                <p class="titolo mb-2" [ngStyle]="{'color':getCurrentColor() }">{{
                                    'pages.info_prodotto.title' |
                                    translate }}</p>
                            </div>
                            <div class="col-12 mt-0 pt-0">
                                <div class="grid">
                                    <div class="col-6 text-center info" *ngIf="form.get('country').value">
                                        {{ 'pages.elabel.form.country.label' | translate }}<br>
                                        <b>{{form.get('country').value}}</b>
                                    </div>
                                    <div class="col-6 text-center info" *ngIf="form.get('type').value">
                                        {{ 'pages.elabel.form.type.label' | translate }}<br>
                                        <b> {{getType(form.get('type').value) | translate}}</b>
                                    </div>
                                    <div class="col-6 text-center info"
                                        *ngIf="form.get('geographical_indication').value">
                                        {{ 'pages.elabel.form.geographical_indication.label' | translate }}<br>
                                        <b>{{getGeographicalIndication(form.get('geographical_indication').value) |
                                            translate}}</b>
                                    </div>
                                    <div class="col-6 text-center info" *ngIf="form.get('vintage_year').value">
                                        {{ 'pages.elabel.form.vintage_year.label' | translate }}<br>
                                        <b>{{form.get('vintage_year').value | date :
                                            'Y'}}</b>
                                    </div>
                                    <div class="col-12 text-center info" *ngIf="form.get('product_varieties').value">
                                        {{ 'pages.elabel.form.product_varieties.label' | translate }}<br>
                                        <i>{{form.get('product_varieties').value}}</i>
                                    </div>

                                    <div class="col-12 text-center info" *ngIf="form.get('description').value">
                                        <i>{{form.get('description').value}}</i>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <p-divider></p-divider>
                <!--INFO PRODUTTORE-->
                <!--  <div class="grid p-2">
                    <div class="col-12 text-center py-0 my-0">
                        <div class="grid">
                            <div class="col-12 mb-0">
                                <p class="titolo mb-2" [ngStyle]="{'color':getCurrentColor() }">{{
                                    'pages.info_produttore.title' |
                                    translate }}</p>
                            </div>
                            <div class="col-12 mt-0 pt-0">
                                <div class="grid">

                                    <div class="col-6 shadow-1 mx-auto py-0 my-0"><img src="https://{{companyLogo}}"
                                            width="100%"></div>
                                    <div class="col-12  mx-auto py-0 my-0">
                                        <p class="mb-0 info mt-2"><b>{{companyName}}</b></p>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>
                </div> -->

                <!--INFO BRAND-->
                <div class="grid p-2" *ngIf="brand.value && checkIfValueExists('isOwnerInfoVisible')">
                    <div class="col-12 text-center py-0 my-0">
                        <div class="grid">
                            <div class="col-12 mb-0">
                                <p class="titolo mb-2" [ngStyle]="{'color':getCurrentColor() }">{{
                                    'pages.info_produttore.title' |
                                    translate }}</p>
                            </div>
                            <div class="col-12 mt-0 pt-0">
                                <div class="grid">

                                    <div class="col-6 shadow-1 mx-auto py-0 my-0"><img
                                            src="https://{{brand.value?.image}}" width="100%"></div>
                                    <div class="col-12  mx-auto py-0 my-0">
                                        <p class="mb-0 info mt-2"><b>{{brand.value?.name}}</b></p>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <p-divider></p-divider>
                <div class="grid p-2">
                    <div class="col-12 text-center">
                        <div class="grid">
                            <div class="col-12">
                                <div class="grid">
                                    <div class="col-12 mb-0 pb-0">
                                        <p class="mb-0 info mt-2"><b>{{companyName}}</b></p>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <p-divider></p-divider>
                <!--FOOTER-->
                <div class="grid p-2 p-fluid">
                    <div class="flex col-12 justify-content-center flex-wrap">
                        <div class="col-12 flex align-items-center justify-content-center font-bold border-round m-2"><a
                                href="https://www.eulabel.it" target="_blank" class="flex justify-content-center"><img
                                    src="https://app.eulabel.it/frontend/assets/layout/images/{{layoutService.config.colorScheme === 'light' ? 'logo-dark' : 'logo-white'}}.svg"
                                    alt="logo" style="width:30%"></a></div>
                    </div>

                </div>
                <!--END PREVIEW-->
            </div>



            <!-- Battery and Signal -->

            <div class="t-r-info">
                <div class="dots">...</div>
                <div class="battery">
                    <div class="bar"></div>
                    <div class="dot"></div>
                </div>
            </div>



            <!-- Bottom Line -->

            <div class="bottom-line"></div>

        </div>



    </div>
</div>



<!--SIDEBAR PREVIEW-->
<div class="container_preview" *ngIf="preview || urlPath=='viewelabel'">
    <!--START PREVIEW-->

    <div class="grid p-2 p-fluid">
        <div class="col-12" [ngStyle]="{'background-color':getCurrentColor() }">
            <div *ngIf="form.get('product_name').value">
                <span class="head_title" style="color:white">{{form.get('product_name').value}}</span>
            </div>
        </div>

        <!--IMMAGINE PRODOTTO -->
        <div class="col-12 mt-2" style="margin-bottom:-15px;z-index: 1;" *ngIf="sub_image">
            <div class="grid">
                <div class="col"></div>
                <div class="col-6 text-center shadow-1 flex justify-content-center" style="background-color: white">
                    <img src="https://{{sub_image}}" class="image-fluid">
                </div>
                <div class="col"></div>
            </div>
        </div>
        <!--BANDA COLORATA-->

        <div class="col-12 pt-3">



            <div class="grid">
                <div class="col-12  align-items-center justify-content-between text-center text-white">
                    <p class="mb-0 info mt-2" *ngIf="brand_name" style="color:black">{{brand_name}}</p>
                    <!-- <p class="mb-0 info mt-2" style="color:black">{{companyName}}</p> -->
                    <b [ngStyle]="{'color':getCurrentColor()}">{{form.get('product_name').value}}</b><br>
                    <b *ngIf="form.get('vintage_year').value" style="color:black">{{form.get('vintage_year').value |
                        date :
                        'Y'}}</b>
                </div>

                <div class="col-11 mx-auto text-center text-white" [ngStyle]="{'background-color':getCurrentColor() }">
                    <span *ngIf="form.get('type').value" class="info">
                        {{getType(form.get('type').value) | translate}}
                    </span>
                    <span *ngIf="form.get('net_content').value" class="info">
                        • {{form.get('net_content').value}} ml
                    </span>
                    <span *ngIf="form.get('alcohol_content_percentage').value" class="info">
                        • {{form.get('alcohol_content_percentage').value}} % vol.
                    </span>


                </div>


            </div>

        </div>
    </div>
    <!--INGREDIENTI-->
    <div class="grid p-2 mt-1">
        <div class="col-12 text-center py-0 my-0">
            <div class="grid">
                <div class="col-12">
                    <p class="titolo mb-2" [ngStyle]="{'color':getCurrentColor()}">{{
                        'pages.ingredients.title' |
                        translate }}</p>
                    <div *ngFor="let i of groupBy(ingredientsValue, 'group') | keyvalue">
                        <b class="info mb-0"> {{i.key | translate}}</b>
                        <p class="info mb-0" *ngFor="let ingredient of i.value">
                            {{ingredient.label | translate}} <span *ngIf="ingredient.allergenies">(Allergene:
                                {{ingredient.allergenies |
                                translate}})</span>
                        </p>
                    </div>
                    <p class="info mt-2" *ngIf="form.get('packages').value">
                        <i>{{getPackages(form.get('packages').value) | translate}}</i>
                    </p>
                </div>

            </div>
        </div>
    </div>
    <p-divider></p-divider>

    <!--TABELLA NUTRIZIONALE-->
    <div class="grid p-2 m-0 py-0">
        <div class="col-12">
            <div class="grid text-center">
                <div class="col-12 mt-0 py-0 mb-2">
                    <p class="titolo mb-2" [ngStyle]="{'color':getCurrentColor() }">{{
                        'pages.nutritions.title' | translate }}</p>
                </div>
            </div>
            <div style="background-color: rgb(0, 0, 0 , 0.05);" class="col-12 px-1 py-1">
                <table style="width: 100%;" border="1" class="info">
                    <tbody>
                        <tr style="border-bottom:1px;border-style: dotted;"
                            [ngStyle]="{'border-color:':(primary_color!=null) ? primary_color : 'black' }">
                            <td class="pl-1">Valori medi</td>
                            <td class="text-right pr-1">per 100ml</td>
                            <td *ngIf="show_portion" class="text-right pr-1">per porzione <span
                                    style="font-size:0.6rem">(500ml)</span></td>
                        </tr>
                        <tr>
                            <td class="pl-1"><b>{{ 'pages.nutritions.energy_kj' | translate }}</b></td>
                            <td class="text-right pr-1">{{form.get('energy_kj').value}} Kj</td>
                            <td *ngIf="show_portion" class="text-right pr-1">25</td>
                        </tr>
                        <tr>
                            <td class="pl-3">{{ 'pages.nutritions.energy_kcal' | translate }}</td>
                            <td class="text-right pr-1">{{form.get('energy_kcal').value}} Kcal</td>
                            <td *ngIf="show_portion" class="text-right pr-1">25</td>
                        </tr>
                        <tr>
                            <td class="pl-1"><b>{{ 'pages.nutritions.fat' | translate }}</b></td>
                            <td class="text-right pr-1">{{form.get('fat').value}} g</td>
                            <td *ngIf="show_portion" class="text-right pr-1">25</td>
                        </tr>
                        <tr>
                            <td class="pl-3">{{ 'pages.nutritions.fat_sat' | translate }}</td>
                            <td class="text-right pr-1">{{form.get('fat_sat').value}} g</td>
                            <td *ngIf="show_portion" class="text-right pr-1">25</td>
                        </tr>
                        <tr>
                            <td class="pl-1"><b>{{ 'pages.nutritions.carb' | translate }}</b></td>
                            <td class="text-right pr-1">{{form.get('carb').value}} g</td>
                            <td *ngIf="show_portion" class="te xt-right pr-1">25</td>
                        </tr>
                        <tr>
                            <td class="pl-3">{{ 'pages.nutritions.carb_sugar' | translate }}</td>
                            <td class="text-right pr-1">{{form.get('carb_sugar').value}} g</td>
                            <td *ngIf="show_portion" class="text-right pr-1">25</td>
                        </tr>
                        <tr>
                            <td class="pl-1"><b>{{ 'pages.nutritions.protein' | translate }}</b></td>
                            <td class="text-right pr-1">{{form.get('protein').value}} g</td>
                            <td *ngIf="show_portion" class="text-right pr-1">25</td>
                        </tr>
                        <tr>
                            <td class="pl-1"><b>{{ 'pages.nutritions.salt' | translate }}</b></td>
                            <td class="text-right pr-1">{{form.get('salt').value}} g</td>
                            <td *ngIf="show_portion" class="text-right pr-1">25</td>
                        </tr>


                    </tbody>
                </table>
            </div>
            <!-- DivTable.com -->
            <!-- <div class="mt-3 mx-1 text-sm">Contiene quantità trascurabili di Sale, Acidi grassi saturi,
                    Proteine, Grassi.
                </div> -->
        </div>
    </div>
    <p-divider></p-divider>
    <!--RICICLO-->
    <div class="grid p-2">
        <div class="col-12">
            <p class="titolo mb-5 text-center" [ngStyle]="{'color':getCurrentColor() }">{{
                'pages.recycling.title_preview' |
                translate }}</p>
        <div class="grid p-3 border-1" *ngFor="let rule of form.get('rules').value; let i = index">
            <div class="col-3 relative p-0" style="background-image: url('assets/riciclo.svg'); background-repeat: no-repeat;
        background-size: auto;background-position-x: center; ">
                <div class="grid">
                    <div class="col-12 text-center font-bold mt-5 pt-5">{{getMaterialNumberPart(getMaterialLabel(i) |
                    translate)}}</div>
                    <div class="col-12 text-center font-bold mt-5 p-0">{{getMaterialLabelPart(getMaterialLabel(i) | translate)}}</div>
                    </div>
            </div>
            <div class="col-9 pt-0 pb-0 my-auto" style="font-size:0.9rem"> <b>{{getContainer(rule.recycling_rule_containers_id).label | translate}}</b><br>
                {{getMaterialTitle(getMaterial(rule.recycling_rule_materials_id).label |
                                translate)}}<br>
                                  <i style="font-size:0.8rem">{{getMaterial(rule.recycling_rule_materials_id).group | translate}}</i></div>
        </div>
    </div>
 
    </div>
    <p-divider *ngIf="form.get('drive').value || form.get('drive').value || form.get('pregnant').value"></p-divider>
    <!--CONSUMO RESPONSABILE-->
    <div class="grid p-2" *ngIf="form.get('drive').value || form.get('drive').value || form.get('pregnant').value">

        <div class="col-12 text-center py-0 my-0">
            <div class="grid">
                <div class="col-12 mb-0">
                    <p class="titolo mb-2" [ngStyle]="{'color':getCurrentColor() }">{{
                        'pages.recycling.sub.title' |
                        translate }}</p>
                </div>
                <div class="col-12 mt-0 pt-0">
                    <div class="flex justify-content-center flex-wrap">
                        <div *ngIf="form.get('drive').value"
                            class="flex align-items-center justify-content-center w-4rem h-4rem  m-2"><img
                                src="https://firebasestorage.googleapis.com/v0/b/label-scan-1c165.appspot.com/o/public%2FresponsibleConsumption%2Fdriving.svg?alt=media&amp;token=9190dac0-4b69-4535-bb4e-c893665a8467"
                                alt="Don't Drink and Drive"></div>

                        <div *ngIf="form.get('pregnant').value"
                            class="flex align-items-center justify-content-center w-4rem h-4rem  m-2"><img
                                src="https://firebasestorage.googleapis.com/v0/b/label-scan-1c165.appspot.com/o/public%2FresponsibleConsumption%2Fpregnant.svg?alt=media&amp;token=bae940be-54fd-4437-93f4-4ed6e8fc0644"
                                alt="Pregnancy"></div>
                        <div *ngIf="form.get('age').value"
                            class="flex align-items-center justify-content-center w-4rem h-4rem  m-2"><img
                                src="https://firebasestorage.googleapis.com/v0/b/label-scan-1c165.appspot.com/o/public%2FresponsibleConsumption%2Funderage.svg?alt=media&amp;token=ff71068d-93fc-42ec-9fd5-0c0a5cb799d0"
                                alt="Underaged Consumption"></div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <p-divider *ngIf=" form.get('sustainibility_bio').value || form.get('sustainibility_message').value"></p-divider>
    <!--INFO SOSTENIBILTà-->
    <div class="grid p-2" *ngIf=" form.get('sustainibility_bio').value || form.get('sustainibility_message').value">

        <div class="col-12 text-center py-0 my-0">
            <div class="grid">
                <div class="col-12 mb-0">
                    <p class="titolo mb-2" [ngStyle]="{'color':getCurrentColor() }">{{
                        'pages.sustainability.title' |
                        translate }}</p>
                </div>
                <div class="col-12 mt-0 pt-0">
                    <div class="grid">
                        <div class="col-12 text-center info">
                            {{form.get('sustainibility_bio').value}}
                        </div>
                        <div class="col-12 text-center info" *ngIf="form.get('type').value">
                            {{form.get('sustainibility_message').value}}
                        </div>


                    </div>
                </div>

                <div class="col-12 mt-0 pt-0 flex align-items-center" *ngIf="sustainibility_attachments">
                    <div class="grid flex">

                        <div class="col-4 mx-auto  text-center info flex justify-content-center align-items-center align-content-center"
                            *ngFor="let image of sustainibility_attachments">
                            <img src="http://app.eulabel.it/backend/storage/app/{{image.url}}" class="image-fluid">
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <p-divider></p-divider>
    <!--INFO PRODOTTO-->
    <div class="grid p-2">
        <div class="col-12 text-center py-0 my-0">
            <div class="grid">
                <div class="col-12 mb-0">
                    <p class="titolo mb-2" [ngStyle]="{'color':getCurrentColor() }">{{
                        'pages.info_prodotto.title' |
                        translate }}</p>
                </div>
                <div class="col-12 mt-0 pt-0">
                    <div class="grid">
                        <div class="col-6 text-center info" *ngIf="form.get('country').value">
                            {{ 'pages.elabel.form.country.label' | translate }}<br>
                            <b>{{form.get('country').value}}</b>
                        </div>
                        <div class="col-6 text-center info" *ngIf="form.get('type').value">
                            {{ 'pages.elabel.form.type.label' | translate }}<br>
                            <b> {{getType(form.get('type').value) | translate}}</b>
                        </div>
                        <div class="col-6 text-center info" *ngIf="form.get('geographical_indication').value">
                            {{ 'pages.elabel.form.geographical_indication.label' | translate }}<br>
                            <b>{{getGeographicalIndication(form.get('geographical_indication').value) |
                                translate}}</b>
                        </div>
                        <div class="col-6 text-center info" *ngIf="form.get('vintage_year').value">
                            {{ 'pages.elabel.form.vintage_year.label' | translate }}<br>
                            <b>{{form.get('vintage_year').value | date :
                                'Y'}}</b>
                        </div>
                        <div class="col-12 text-center info" *ngIf="form.get('product_varieties').value">
                            {{ 'pages.elabel.form.product_varieties.label' | translate }}<br>
                            <i>{{form.get('product_varieties').value}}</i>
                        </div>

                        <div class="col-12 text-center info" *ngIf="form.get('description').value">
                            <i>{{form.get('description').value}}</i>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>
    <p-divider></p-divider>
    <!--INFO PRODUTTORE-->
    <!-- <div class="grid p-2">
        <div class="col-12 text-center py-0 my-0">
            <div class="grid">
                <div class="col-12 mb-0">
                    <p class="titolo mb-2" [ngStyle]="{'color':getCurrentColor() }">{{
                        'pages.info_produttore.title' |
                        translate }}</p>
                </div>
                <div class="col-12 mt-0 pt-0">
                    <div class="grid">

                        <div class="col-6 shadow-1 mx-auto py-0 my-0"><img src="https://{{companyLogo}}" width="100%">
                        </div>
                        <div class="col-12  mx-auto py-0 my-0">
                            <p class="mb-0 info mt-2"><b>{{companyName}}</b></p>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div> -->
    <!--INFO BRAND-->
    <div class="grid p-2" *ngIf="brand_name">
        <div class="col-12 text-center py-0 my-0">
            <div class="grid">
                <div class="col-12 mb-0">
                    <p class="titolo mb-2" [ngStyle]="{'color':getCurrentColor() }">{{
                        'pages.info_produttore.title' |
                        translate }}</p>
                </div>
                <div class="col-12 mt-0 pt-0">
                    <div class="grid">

                        <div class="col-6 shadow-1 mx-auto py-0 my-0"><img src="https://{{brand_image}}" width="100%">
                        </div>
                        <div class="col-12  mx-auto py-0 my-0">
                            <p class="mb-0 info mt-2"><b>{{brand_name}}</b></p>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>

    <p-divider></p-divider>
    <div class="grid p-2">
        <div class="col-12 text-center">
            <div class="grid">
                <div class="col-12">
                    <div class="grid">
                        <div class="col-12 mb-0 pb-0">
                            <p class="mb-0 info mt-2"><b>{{companyName}}</b></p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <p-divider></p-divider>
    <!--FOOTER-->
    <div class="grid p-2 p-fluid">
        <div class="flex col-12 justify-content-center flex-wrap">
            <div class="col-12 flex align-items-center justify-content-center font-bold border-round m-2"><a
                    href="https://www.eulabel.it" target="_blank" class="flex justify-content-center"><img
                        src="https://app.eulabel.it/frontend/assets/layout/images/{{layoutService.config.colorScheme === 'light' ? 'logo-dark' : 'logo-white'}}.svg"
                        alt="logo" style="width:30%"></a></div>
        </div>

    </div>
    <!--END PREVIEW-->

    <!-- <div class="flex flex-column gap-2 p-4">
    <div class="flex border-1 flex-column">
        <div class="flex flex-column gap-2" *ngIf="form.get('product_name').value">
            <div><b>{{ 'pages.elabel.form.product_name.label' | translate }}</b></div>
            <div>{{form.get('product_name').value}}</div>
        </div>
        <div class="flex flex-column gap-2" *ngIf="form.get('type').value">
            <div><b>{{ 'pages.elabel.form.type.label' | translate }}</b></div>
            <div>{{form.get('type').value}}</div>
        </div>
        <div class="flex flex-column gap-2" *ngIf="form.get('vintage_year').value">
            <div><b>{{ 'pages.elabel.form.vintage_year.label' | translate }}</b></div>
            <div>{{form.get('vintage_year').value | date : 'Y'}}</div>
        </div>
        <div class="flex flex-column gap-2" *ngIf="form.get('product_varieties').value">
            <div><b>{{ 'pages.elabel.form.product_varieties.label' | translate }}</b></div>
            <div>{{form.get('product_varieties').value}}</div>
        </div>
        <div class="flex flex-column gap-2" *ngIf="form.get('geographical_indication').value">
            <div><b>{{ 'pages.elabel.form.geographical_indication.label' | translate }}</b></div>
            <div>{{form.get('geographical_indication').value}}</div>
        </div>
        <div class="flex flex-column gap-2" *ngIf="form.get('alcohol_content_percentage').value">
            <div><b>{{ 'pages.elabel.form.alcohol_content_percentage.label' | translate }}</b></div>
            <div>{{form.get('alcohol_content_percentage').value}}</div>
        </div>
        <div class="flex flex-column gap-2" *ngIf="form.get('net_content').value">
            <div><b>{{ 'pages.elabel.form.net_content.label' | translate }}</b></div>
            <div>{{form.get('net_content').value}}</div>
        </div>
        <div class="flex flex-column gap-2" *ngIf="form.get('description').value">
            <div><b>{{ 'pages.elabel.form.description.label' | translate }}</b></div>
            <div>{{form.get('description').value}}</div>
        </div>

        <h2>{{ 'pages.ingredients.title' | translate }}</h2>

        <div class="flex flex-column gap-2" *ngIf="form.get('packages').value">
            <div><b>{{ 'pages.elabel.form.packages.label' | translate }}</b></div>
            <div>{{form.get('packages').value}}</div>
        </div>


        <div class="flex flex-column gap-2" *ngIf="form.get('packages').value">
            <div><b>{{ 'pages.elabel.form.packages.label' | translate }}</b></div>
            <div>{{form.get('packages').value}}</div>
        </div>



        <h2>{{ 'pages.recycling.title' | translate }}</h2>


        <div class="w-full flex gap-2">
            <img class="w-2" *ngIf="form.get('drive').value"
                src="https://firebasestorage.googleapis.com/v0/b/label-scan-1c165.appspot.com/o/public%2FresponsibleConsumption%2Fdriving.svg?alt=media&amp;token=9190dac0-4b69-4535-bb4e-c893665a8467"
                alt="Don't Drink and Drive">
            <img class="w-2" *ngIf="form.get('pregnant').value"
                src="https://firebasestorage.googleapis.com/v0/b/label-scan-1c165.appspot.com/o/public%2FresponsibleConsumption%2Fpregnant.svg?alt=media&amp;token=bae940be-54fd-4437-93f4-4ed6e8fc0644"
                alt="Pregnancy">
            <img class="w-2" *ngIf="form.get('age').value"
                src="https://firebasestorage.googleapis.com/v0/b/label-scan-1c165.appspot.com/o/public%2FresponsibleConsumption%2Funderage.svg?alt=media&amp;token=ff71068d-93fc-42ec-9fd5-0c0a5cb799d0"
                alt="Underaged Consumption">
        </div>
        <h2>{{ 'pages.sustainability.title' | translate }}</h2>
        <div class="flex flex-column gap-2" *ngIf="form.get('sustainibility_bio').value">
            <div><b>{{ 'pages.sustainability.form.field1.label' | translate }}</b></div>
            <div>{{form.get('sustainibility_bio').value}}</div>
        </div>
        <div class="flex flex-column gap-2" *ngIf="form.get('sustainibility_message').value">
            <div><b>{{ 'pages.sustainability.form.field2.label' | translate }}</b></div>
            <div>{{form.get('sustainibility_message').value}}</div>
        </div>

    </div>
</div> -->